{"ast":null,"code":"\"use strict\";\n\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar NormalisedURLPath = /** @class */function () {\n  function NormalisedURLPath(url) {\n    var _this = this;\n    this.startsWith = function (other) {\n      return _this.value.startsWith(other.value);\n    };\n    this.appendPath = function (other) {\n      return new NormalisedURLPath(_this.value + other.value);\n    };\n    this.getAsStringDangerous = function () {\n      // Otherwise, return value.\n      return _this.value;\n    };\n    this.value = normaliseURLPathOrThrowError(url);\n  }\n  return NormalisedURLPath;\n}();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n  input = input.trim();\n  try {\n    if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n      throw new Error(\"Error converting to proper URL\");\n    }\n    var urlObj = new URL(input);\n    input = urlObj.pathname;\n    if (input.charAt(input.length - 1) === \"/\") {\n      return input.substr(0, input.length - 1);\n    }\n    return input;\n    // eslint-disable-next-line no-empty\n  } catch (err) {}\n  // not a valid URL\n  // If the input contains a . it means they have given a domain name.\n  // So we try assuming that they have given a domain name + path\n  if ((domainGiven(input) || input.startsWith(\"localhost\")) && !input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n    input = \"http://\" + input;\n    return normaliseURLPathOrThrowError(input);\n  }\n  if (input.charAt(0) !== \"/\") {\n    input = \"/\" + input;\n  }\n  // at this point, we should be able to convert it into a fake URL and recursively call this function.\n  try {\n    // test that we can convert this to prevent an infinite loop\n    new URL(\"http://example.com\" + input);\n    return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n  } catch (err) {\n    throw new Error(\"Please provide a valid URL path\");\n  }\n}\nfunction domainGiven(input) {\n  // If no dot, return false.\n  if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n    return false;\n  }\n  try {\n    var url = new URL(input);\n    return url.hostname.indexOf(\".\") !== -1;\n  } catch (e) {}\n  try {\n    var url = new URL(\"http://\" + input);\n    return url.hostname.indexOf(\".\") !== -1;\n  } catch (e) {}\n  return false;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","NormalisedURLPath","url","_this","startsWith","other","appendPath","getAsStringDangerous","normaliseURLPathOrThrowError","default","input","trim","Error","urlObj","URL","pathname","charAt","length","substr","err","domainGiven","indexOf","hostname","e"],"sources":["C:/Users/jsierra/puntodelaguaapp/frontend/node_modules/supertokens-web-js/lib/build/normalisedURLPath.js"],"sourcesContent":["\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            // Otherwise, return value.\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports.default = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}