{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    throw: verb(1),\n    return: verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormBase = void 0;\nvar jsx_runtime_1 = require(\"@emotion/react/jsx-runtime\");\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Imports.\n */\nvar react_1 = require(\"react\");\nvar _1 = require(\".\");\nvar constants_1 = require(\"../../constants\");\nvar react_2 = require(\"react\");\nvar react_3 = require(\"react\");\nvar react_4 = require(\"react\");\nvar error_1 = __importDefault(require(\"supertokens-web-js/utils/error\"));\nvar FormBase = function (props) {\n  var footer = props.footer,\n    buttonLabel = props.buttonLabel,\n    showLabels = props.showLabels,\n    validateOnBlur = props.validateOnBlur,\n    formFields = props.formFields;\n  var unmounting = (0, react_3.useRef)(new AbortController());\n  (0, react_4.useEffect)(function () {\n    // We need this because in some cases this gets called multiple times\n    unmounting.current = new AbortController();\n    return function () {\n      unmounting.current.abort();\n    };\n  }, [unmounting]);\n  var _a = (0, react_1.useState)(props.formFields.map(function (f) {\n      return {\n        id: f.id,\n        value: \"\"\n      };\n    })),\n    fieldStates = _a[0],\n    setFieldStates = _a[1];\n  var _b = (0, react_1.useState)(false),\n    isLoading = _b[0],\n    setIsLoading = _b[1];\n  var updateFieldState = (0, react_2.useCallback)(function (id, update) {\n    setFieldStates(function (os) {\n      var field = os.find(function (f) {\n        return f.id === id;\n      });\n      if (field === undefined) {\n        return __spreadArray(__spreadArray([], os, true), [update({\n          id: id,\n          value: \"\"\n        })], false);\n      }\n      return os.filter(function (f) {\n        return f !== field;\n      }).concat(update(field));\n    });\n  }, [setFieldStates]);\n  var onInputFocus = (0, react_2.useCallback)(function (field) {\n    updateFieldState(field.id, function (os) {\n      return __assign(__assign({}, os), {\n        validated: false\n      });\n    });\n  }, [updateFieldState]);\n  var onInputBlur = (0, react_2.useCallback)(function (field) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var fieldConfig, error, _a;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!validateOnBlur) {\n              return [2 /*return*/];\n            }\n\n            fieldConfig = props.formFields.find(function (f) {\n              return f.id === field.id;\n            });\n            if (!(fieldConfig && field.value !== \"\")) return [3 /*break*/, 2];\n            return [4 /*yield*/, fieldConfig.validate(field.value)];\n          case 1:\n            _a = _b.sent();\n            return [3 /*break*/, 3];\n          case 2:\n            _a = undefined;\n            _b.label = 3;\n          case 3:\n            error = _a;\n            updateFieldState(field.id, function (os) {\n              return __assign(__assign({}, os), {\n                error: error,\n                validated: error === undefined && field.value.length !== 0\n              });\n            });\n            return [2 /*return*/];\n        }\n      });\n    });\n  }, [validateOnBlur, updateFieldState, props.formFields]);\n  var onInputChange = (0, react_2.useCallback)(function (field) {\n    updateFieldState(field.id, function (os) {\n      return __assign(__assign({}, os), {\n        value: field.value,\n        error: undefined\n      });\n    });\n    props.clearError();\n  }, [updateFieldState]);\n  var onFormSubmit = (0, react_2.useCallback)(function (e) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var apiFields, fieldUpdates, result, generalError, e_1, _loop_1, _i, formFields_1, field, errorFields_1, e_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // Prevent default event propagation.\n            e.preventDefault();\n            // Set loading state.\n            setIsLoading(true);\n            setFieldStates(function (os) {\n              return os.map(function (fs) {\n                return __assign(__assign({}, fs), {\n                  error: undefined\n                });\n              });\n            });\n            apiFields = formFields.map(function (field) {\n              var fieldState = fieldStates.find(function (fs) {\n                return fs.id === field.id;\n              });\n              return {\n                id: field.id,\n                value: fieldState === undefined ? \"\" : fieldState.value\n              };\n            });\n            fieldUpdates = [];\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 6, 7, 8]);\n            result = void 0;\n            generalError = void 0;\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n            return [4 /*yield*/, props.callAPI(apiFields, function (id, value) {\n              return fieldUpdates.push({\n                id: id,\n                value: value\n              });\n            })];\n          case 3:\n            result = _a.sent();\n            return [3 /*break*/, 5];\n          case 4:\n            e_1 = _a.sent();\n            if (error_1.default.isThisError(e_1)) {\n              generalError = e_1;\n            } else {\n              throw e_1;\n            }\n            return [3 /*break*/, 5];\n          case 5:\n            if (unmounting.current.signal.aborted) {\n              return [2 /*return*/];\n            }\n\n            _loop_1 = function (field) {\n              var update = fieldUpdates.find(function (f) {\n                return f.id === field.id;\n              });\n              if (update || field.clearOnSubmit === true) {\n                // We can do these one by one, it's almost never more than one field\n                updateFieldState(field.id, function (os) {\n                  return __assign(__assign({}, os), {\n                    value: update ? update.value : \"\"\n                  });\n                });\n              }\n            };\n            for (_i = 0, formFields_1 = formFields; _i < formFields_1.length; _i++) {\n              field = formFields_1[_i];\n              _loop_1(field);\n            }\n            if (generalError !== undefined) {\n              props.onError(generalError.message);\n            } else {\n              // If successful\n              if (result.status === \"OK\") {\n                setIsLoading(false);\n                props.clearError();\n                if (props.onSuccess !== undefined) {\n                  props.onSuccess(result);\n                }\n              }\n              if (unmounting.current.signal.aborted) {\n                return [2 /*return*/];\n              }\n              // If field error.\n              if (result.status === \"FIELD_ERROR\") {\n                errorFields_1 = result.formFields;\n                setFieldStates(function (os) {\n                  return os.map(function (fs) {\n                    var _a;\n                    return __assign(__assign({}, fs), {\n                      error: (_a = errorFields_1.find(function (ef) {\n                        return ef.id === fs.id;\n                      })) === null || _a === void 0 ? void 0 : _a.error\n                    });\n                  });\n                });\n              }\n            }\n            return [3 /*break*/, 8];\n          case 6:\n            e_2 = _a.sent();\n            props.onError(\"SOMETHING_WENT_WRONG_ERROR\");\n            return [3 /*break*/, 8];\n          case 7:\n            setIsLoading(false);\n            return [7 /*endfinally*/];\n          case 8:\n            return [2 /*return*/];\n        }\n      });\n    });\n  }, [setIsLoading, setFieldStates, props, formFields, fieldStates]);\n  return (0, jsx_runtime_1.jsxs)(\"form\", __assign({\n    autoComplete: \"on\",\n    noValidate: true,\n    onSubmit: onFormSubmit\n  }, {\n    children: [formFields.map(function (field) {\n      var type = \"text\";\n      // If email or password, replace field type.\n      if (constants_1.MANDATORY_FORM_FIELDS_ID_ARRAY.includes(field.id)) {\n        type = field.id;\n      }\n      if (field.id === \"confirm-password\") {\n        type = \"password\";\n      }\n      var fstate = fieldStates.find(function (s) {\n        return s.id === field.id;\n      }) || {\n        id: field.id,\n        validated: false,\n        error: undefined,\n        value: \"\"\n      };\n      return (0, jsx_runtime_1.jsx)(_1.FormRow, __assign({\n        hasError: fstate.error !== undefined\n      }, {\n        children: (0, jsx_runtime_1.jsxs)(react_1.Fragment, {\n          children: [showLabels && (field.labelComponent !== undefined ? field.labelComponent : (0, jsx_runtime_1.jsx)(_1.Label, {\n            value: field.label,\n            showIsRequired: field.showIsRequired\n          })), field.inputComponent !== undefined ? (0, jsx_runtime_1.jsx)(field.inputComponent, {\n            type: type,\n            name: field.id,\n            validated: fstate.validated === true,\n            placeholder: field.placeholder,\n            value: fstate.value,\n            autoComplete: field.autoComplete,\n            autofocus: field.autofocus,\n            onInputFocus: onInputFocus,\n            onInputBlur: onInputBlur,\n            onChange: onInputChange,\n            hasError: fstate.error !== undefined\n          }) : (0, jsx_runtime_1.jsx)(_1.Input, {\n            type: type,\n            name: field.id,\n            validated: fstate.validated === true,\n            placeholder: field.placeholder,\n            value: fstate.value,\n            autoComplete: field.autoComplete,\n            onInputFocus: onInputFocus,\n            onInputBlur: onInputBlur,\n            onChange: onInputChange,\n            autofocus: field.autofocus,\n            hasError: fstate.error !== undefined\n          }), fstate.error && (0, jsx_runtime_1.jsx)(_1.InputError, {\n            error: fstate.error\n          })]\n        })\n      }), field.id);\n    }), (0, jsx_runtime_1.jsx)(_1.FormRow, {\n      children: (0, jsx_runtime_1.jsxs)(react_1.Fragment, {\n        children: [(0, jsx_runtime_1.jsx)(_1.Button, {\n          disabled: isLoading,\n          isLoading: isLoading,\n          type: \"submit\",\n          label: buttonLabel\n        }), footer]\n      })\n    }, \"form-button\")]\n  }));\n};\nexports.FormBase = FormBase;\nexports.default = exports.FormBase;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","l","ar","Array","slice","concat","__importDefault","mod","__esModule","default","defineProperty","exports","FormBase","jsx_runtime_1","require","react_1","_1","constants_1","react_2","react_3","react_4","error_1","props","footer","buttonLabel","showLabels","validateOnBlur","formFields","unmounting","useRef","AbortController","useEffect","current","abort","_a","useState","map","id","fieldStates","setFieldStates","_b","isLoading","setIsLoading","updateFieldState","useCallback","update","os","field","find","undefined","filter","onInputFocus","validated","onInputBlur","fieldConfig","error","validate","onInputChange","clearError","onFormSubmit","apiFields","fieldUpdates","generalError","e_1","_loop_1","_i","formFields_1","errorFields_1","e_2","preventDefault","fs","fieldState","callAPI","isThisError","signal","aborted","clearOnSubmit","onError","message","status","onSuccess","ef","jsxs","autoComplete","noValidate","onSubmit","children","type","MANDATORY_FORM_FIELDS_ID_ARRAY","includes","fstate","jsx","FormRow","hasError","Fragment","labelComponent","Label","showIsRequired","inputComponent","name","placeholder","autofocus","onChange","Input","InputError","Button","disabled"],"sources":["C:/Users/jsierra/puntodelaguaapp/frontend/node_modules/supertokens-auth-react/lib/build/recipe/emailpassword/components/library/formBase.js"],"sourcesContent":["\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nvar __spreadArray =\n    (this && this.__spreadArray) ||\n    function (to, from, pack) {\n        if (pack || arguments.length === 2)\n            for (var i = 0, l = from.length, ar; i < l; i++) {\n                if (ar || !(i in from)) {\n                    if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                    ar[i] = from[i];\n                }\n            }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    };\nvar __importDefault =\n    (this && this.__importDefault) ||\n    function (mod) {\n        return mod && mod.__esModule ? mod : { default: mod };\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FormBase = void 0;\nvar jsx_runtime_1 = require(\"@emotion/react/jsx-runtime\");\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Imports.\n */\nvar react_1 = require(\"react\");\nvar _1 = require(\".\");\nvar constants_1 = require(\"../../constants\");\nvar react_2 = require(\"react\");\nvar react_3 = require(\"react\");\nvar react_4 = require(\"react\");\nvar error_1 = __importDefault(require(\"supertokens-web-js/utils/error\"));\nvar FormBase = function (props) {\n    var footer = props.footer,\n        buttonLabel = props.buttonLabel,\n        showLabels = props.showLabels,\n        validateOnBlur = props.validateOnBlur,\n        formFields = props.formFields;\n    var unmounting = (0, react_3.useRef)(new AbortController());\n    (0, react_4.useEffect)(\n        function () {\n            // We need this because in some cases this gets called multiple times\n            unmounting.current = new AbortController();\n            return function () {\n                unmounting.current.abort();\n            };\n        },\n        [unmounting]\n    );\n    var _a = (0, react_1.useState)(\n            props.formFields.map(function (f) {\n                return { id: f.id, value: \"\" };\n            })\n        ),\n        fieldStates = _a[0],\n        setFieldStates = _a[1];\n    var _b = (0, react_1.useState)(false),\n        isLoading = _b[0],\n        setIsLoading = _b[1];\n    var updateFieldState = (0, react_2.useCallback)(\n        function (id, update) {\n            setFieldStates(function (os) {\n                var field = os.find(function (f) {\n                    return f.id === id;\n                });\n                if (field === undefined) {\n                    return __spreadArray(__spreadArray([], os, true), [update({ id: id, value: \"\" })], false);\n                }\n                return os\n                    .filter(function (f) {\n                        return f !== field;\n                    })\n                    .concat(update(field));\n            });\n        },\n        [setFieldStates]\n    );\n    var onInputFocus = (0, react_2.useCallback)(\n        function (field) {\n            updateFieldState(field.id, function (os) {\n                return __assign(__assign({}, os), { validated: false });\n            });\n        },\n        [updateFieldState]\n    );\n    var onInputBlur = (0, react_2.useCallback)(\n        function (field) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var fieldConfig, error, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (!validateOnBlur) {\n                                return [2 /*return*/];\n                            }\n                            fieldConfig = props.formFields.find(function (f) {\n                                return f.id === field.id;\n                            });\n                            if (!(fieldConfig && field.value !== \"\")) return [3 /*break*/, 2];\n                            return [4 /*yield*/, fieldConfig.validate(field.value)];\n                        case 1:\n                            _a = _b.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _a = undefined;\n                            _b.label = 3;\n                        case 3:\n                            error = _a;\n                            updateFieldState(field.id, function (os) {\n                                return __assign(__assign({}, os), {\n                                    error: error,\n                                    validated: error === undefined && field.value.length !== 0,\n                                });\n                            });\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        [validateOnBlur, updateFieldState, props.formFields]\n    );\n    var onInputChange = (0, react_2.useCallback)(\n        function (field) {\n            updateFieldState(field.id, function (os) {\n                return __assign(__assign({}, os), { value: field.value, error: undefined });\n            });\n            props.clearError();\n        },\n        [updateFieldState]\n    );\n    var onFormSubmit = (0, react_2.useCallback)(\n        function (e) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var apiFields,\n                    fieldUpdates,\n                    result,\n                    generalError,\n                    e_1,\n                    _loop_1,\n                    _i,\n                    formFields_1,\n                    field,\n                    errorFields_1,\n                    e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            // Prevent default event propagation.\n                            e.preventDefault();\n                            // Set loading state.\n                            setIsLoading(true);\n                            setFieldStates(function (os) {\n                                return os.map(function (fs) {\n                                    return __assign(__assign({}, fs), { error: undefined });\n                                });\n                            });\n                            apiFields = formFields.map(function (field) {\n                                var fieldState = fieldStates.find(function (fs) {\n                                    return fs.id === field.id;\n                                });\n                                return {\n                                    id: field.id,\n                                    value: fieldState === undefined ? \"\" : fieldState.value,\n                                };\n                            });\n                            fieldUpdates = [];\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 6, 7, 8]);\n                            result = void 0;\n                            generalError = void 0;\n                            _a.label = 2;\n                        case 2:\n                            _a.trys.push([2, 4, , 5]);\n                            return [\n                                4 /*yield*/,\n                                props.callAPI(apiFields, function (id, value) {\n                                    return fieldUpdates.push({ id: id, value: value });\n                                }),\n                            ];\n                        case 3:\n                            result = _a.sent();\n                            return [3 /*break*/, 5];\n                        case 4:\n                            e_1 = _a.sent();\n                            if (error_1.default.isThisError(e_1)) {\n                                generalError = e_1;\n                            } else {\n                                throw e_1;\n                            }\n                            return [3 /*break*/, 5];\n                        case 5:\n                            if (unmounting.current.signal.aborted) {\n                                return [2 /*return*/];\n                            }\n                            _loop_1 = function (field) {\n                                var update = fieldUpdates.find(function (f) {\n                                    return f.id === field.id;\n                                });\n                                if (update || field.clearOnSubmit === true) {\n                                    // We can do these one by one, it's almost never more than one field\n                                    updateFieldState(field.id, function (os) {\n                                        return __assign(__assign({}, os), { value: update ? update.value : \"\" });\n                                    });\n                                }\n                            };\n                            for (_i = 0, formFields_1 = formFields; _i < formFields_1.length; _i++) {\n                                field = formFields_1[_i];\n                                _loop_1(field);\n                            }\n                            if (generalError !== undefined) {\n                                props.onError(generalError.message);\n                            } else {\n                                // If successful\n                                if (result.status === \"OK\") {\n                                    setIsLoading(false);\n                                    props.clearError();\n                                    if (props.onSuccess !== undefined) {\n                                        props.onSuccess(result);\n                                    }\n                                }\n                                if (unmounting.current.signal.aborted) {\n                                    return [2 /*return*/];\n                                }\n                                // If field error.\n                                if (result.status === \"FIELD_ERROR\") {\n                                    errorFields_1 = result.formFields;\n                                    setFieldStates(function (os) {\n                                        return os.map(function (fs) {\n                                            var _a;\n                                            return __assign(__assign({}, fs), {\n                                                error:\n                                                    (_a = errorFields_1.find(function (ef) {\n                                                        return ef.id === fs.id;\n                                                    })) === null || _a === void 0\n                                                        ? void 0\n                                                        : _a.error,\n                                            });\n                                        });\n                                    });\n                                }\n                            }\n                            return [3 /*break*/, 8];\n                        case 6:\n                            e_2 = _a.sent();\n                            props.onError(\"SOMETHING_WENT_WRONG_ERROR\");\n                            return [3 /*break*/, 8];\n                        case 7:\n                            setIsLoading(false);\n                            return [7 /*endfinally*/];\n                        case 8:\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        [setIsLoading, setFieldStates, props, formFields, fieldStates]\n    );\n    return (0, jsx_runtime_1.jsxs)(\n        \"form\",\n        __assign(\n            { autoComplete: \"on\", noValidate: true, onSubmit: onFormSubmit },\n            {\n                children: [\n                    formFields.map(function (field) {\n                        var type = \"text\";\n                        // If email or password, replace field type.\n                        if (constants_1.MANDATORY_FORM_FIELDS_ID_ARRAY.includes(field.id)) {\n                            type = field.id;\n                        }\n                        if (field.id === \"confirm-password\") {\n                            type = \"password\";\n                        }\n                        var fstate = fieldStates.find(function (s) {\n                            return s.id === field.id;\n                        }) || {\n                            id: field.id,\n                            validated: false,\n                            error: undefined,\n                            value: \"\",\n                        };\n                        return (0,\n                        jsx_runtime_1.jsx)(_1.FormRow, __assign({ hasError: fstate.error !== undefined }, { children: (0, jsx_runtime_1.jsxs)(react_1.Fragment, { children: [showLabels && (field.labelComponent !== undefined ? field.labelComponent : (0, jsx_runtime_1.jsx)(_1.Label, { value: field.label, showIsRequired: field.showIsRequired })), field.inputComponent !== undefined ? (0, jsx_runtime_1.jsx)(field.inputComponent, { type: type, name: field.id, validated: fstate.validated === true, placeholder: field.placeholder, value: fstate.value, autoComplete: field.autoComplete, autofocus: field.autofocus, onInputFocus: onInputFocus, onInputBlur: onInputBlur, onChange: onInputChange, hasError: fstate.error !== undefined }) : (0, jsx_runtime_1.jsx)(_1.Input, { type: type, name: field.id, validated: fstate.validated === true, placeholder: field.placeholder, value: fstate.value, autoComplete: field.autoComplete, onInputFocus: onInputFocus, onInputBlur: onInputBlur, onChange: onInputChange, autofocus: field.autofocus, hasError: fstate.error !== undefined }), fstate.error && (0, jsx_runtime_1.jsx)(_1.InputError, { error: fstate.error })] }) }), field.id);\n                    }),\n                    (0, jsx_runtime_1.jsx)(\n                        _1.FormRow,\n                        {\n                            children: (0, jsx_runtime_1.jsxs)(react_1.Fragment, {\n                                children: [\n                                    (0, jsx_runtime_1.jsx)(_1.Button, {\n                                        disabled: isLoading,\n                                        isLoading: isLoading,\n                                        type: \"submit\",\n                                        label: buttonLabel,\n                                    }),\n                                    footer,\n                                ],\n                            }),\n                        },\n                        \"form-button\"\n                    ),\n                ],\n            }\n        )\n    );\n};\nexports.FormBase = FormBase;\nexports.default = exports.FormBase;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}