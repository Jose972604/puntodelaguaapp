{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getHashFromLocation = exports.getNormalisedUserContext = exports.checkForSSRErrorAndAppendIfNeeded = exports.getQueryParams = exports.isTest = exports.normaliseInputAppInfoOrThrowError = exports.appendQueryParamsToURL = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nvar constants_1 = require(\"./constants\");\nvar normalisedURLDomain_1 = require(\"./normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n  if (queryParams === undefined) {\n    return stringUrl;\n  }\n  try {\n    var url_1 = new URL(stringUrl);\n    Object.entries(queryParams).forEach(function (_a) {\n      var key = _a[0],\n        value = _a[1];\n      url_1.searchParams.set(key, value);\n    });\n    return url_1.href;\n  } catch (e) {\n    var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n    var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n    Object.entries(queryParams).forEach(function (_a) {\n      var key = _a[0],\n        value = _a[1];\n      url_2.searchParams.set(key, value);\n    });\n    return \"\".concat(url_2.pathname).concat(url_2.search);\n  }\n}\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n  if (path !== undefined) {\n    return new normalisedURLPath_1.default(path);\n  } else {\n    return new normalisedURLPath_1.default(defaultPath);\n  }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n  if (appInfo === undefined) {\n    throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n  }\n  if (appInfo.apiDomain === undefined) {\n    throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n  }\n  if (appInfo.appName === undefined) {\n    throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n  }\n  var apiGatewayPath = new normalisedURLPath_1.default(\"\");\n  if (appInfo.apiGatewayPath !== undefined) {\n    apiGatewayPath = new normalisedURLPath_1.default(appInfo.apiGatewayPath);\n  }\n  return {\n    appName: appInfo.appName,\n    apiDomain: new normalisedURLDomain_1.default(appInfo.apiDomain),\n    apiBasePath: apiGatewayPath.appendPath(getNormalisedURLPathOrDefault(constants_1.DEFAULT_API_BASE_PATH, appInfo.apiBasePath))\n  };\n}\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nfunction isTest() {\n  try {\n    return process.env.TEST_MODE === \"testing\";\n  } catch (err) {\n    // can get Uncaught ReferenceError: process is not defined error\n    return false;\n  }\n}\nexports.isTest = isTest;\nfunction getQueryParams(param) {\n  var urlParams = new URLSearchParams(windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch());\n  var queryParam = urlParams.get(param);\n  if (queryParam === null) {\n    return undefined;\n  }\n  return queryParam;\n}\nexports.getQueryParams = getQueryParams;\nfunction checkForSSRErrorAndAppendIfNeeded(error) {\n  // tslint:disable-next-line\n  if (typeof window === \"undefined\") {\n    error = error + constants_1.SSR_ERROR;\n  }\n  return error;\n}\nexports.checkForSSRErrorAndAppendIfNeeded = checkForSSRErrorAndAppendIfNeeded;\nfunction getNormalisedUserContext(userContext) {\n  return userContext === undefined ? {} : userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\nfunction getHashFromLocation() {\n  // By default it is returned with the \"#\" at the beginning, we cut that off here.\n  return windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substring(1);\n}\nexports.getHashFromLocation = getHashFromLocation;","map":{"version":3,"names":["Object","defineProperty","exports","value","getHashFromLocation","getNormalisedUserContext","checkForSSRErrorAndAppendIfNeeded","getQueryParams","isTest","normaliseInputAppInfoOrThrowError","appendQueryParamsToURL","windowHandler_1","require","constants_1","normalisedURLDomain_1","normalisedURLPath_1","stringUrl","queryParams","undefined","url_1","URL","entries","forEach","_a","key","searchParams","set","href","e","fakeDomain","startsWith","url_2","concat","pathname","search","getNormalisedURLPathOrDefault","defaultPath","path","default","appInfo","Error","apiDomain","appName","apiGatewayPath","apiBasePath","appendPath","DEFAULT_API_BASE_PATH","process","env","TEST_MODE","err","param","urlParams","URLSearchParams","WindowHandlerReference","getReferenceOrThrow","windowHandler","location","getSearch","queryParam","get","error","window","SSR_ERROR","userContext","getHash","substring"],"sources":["C:/Users/jsierra/puntodelaguaapp/frontend/node_modules/supertokens-web-js/lib/build/utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHashFromLocation =\n    exports.getNormalisedUserContext =\n    exports.checkForSSRErrorAndAppendIfNeeded =\n    exports.getQueryParams =\n    exports.isTest =\n    exports.normaliseInputAppInfoOrThrowError =\n    exports.appendQueryParamsToURL =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nvar constants_1 = require(\"./constants\");\nvar normalisedURLDomain_1 = require(\"./normalisedURLDomain\");\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new normalisedURLPath_1.default(path);\n    } else {\n        return new normalisedURLPath_1.default(defaultPath);\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new normalisedURLPath_1.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new normalisedURLPath_1.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new normalisedURLDomain_1.default(appInfo.apiDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(constants_1.DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n    };\n}\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nexports.isTest = isTest;\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    var queryParam = urlParams.get(param);\n    if (queryParam === null) {\n        return undefined;\n    }\n    return queryParam;\n}\nexports.getQueryParams = getQueryParams;\nfunction checkForSSRErrorAndAppendIfNeeded(error) {\n    // tslint:disable-next-line\n    if (typeof window === \"undefined\") {\n        error = error + constants_1.SSR_ERROR;\n    }\n    return error;\n}\nexports.checkForSSRErrorAndAppendIfNeeded = checkForSSRErrorAndAppendIfNeeded;\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\nfunction getHashFromLocation() {\n    // By default it is returned with the \"#\" at the beginning, we cut that off here.\n    return windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substring(1);\n}\nexports.getHashFromLocation = getHashFromLocation;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}