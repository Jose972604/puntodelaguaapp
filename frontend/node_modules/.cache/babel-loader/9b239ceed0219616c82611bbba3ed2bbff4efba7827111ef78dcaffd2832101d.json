{"ast":null,"code":"\"use strict\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAnIpAddress = void 0;\nfunction isAnIpAddress(ipaddress) {\n  return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress);\n}\nexports.isAnIpAddress = isAnIpAddress;\nvar NormalisedURLDomain = /** @class */function () {\n  function NormalisedURLDomain(url) {\n    var _this = this;\n    this.getAsStringDangerous = function () {\n      return _this.value;\n    };\n    this.value = normaliseURLDomainOrThrowError(url);\n  }\n  return NormalisedURLDomain;\n}();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n  if (ignoreProtocol === void 0) {\n    ignoreProtocol = false;\n  }\n  input = input.trim();\n  try {\n    if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n      throw new Error(\"converting to proper URL\");\n    }\n    var urlObj = new URL(input);\n    if (ignoreProtocol) {\n      if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n        input = \"http://\" + urlObj.host;\n      } else {\n        input = \"https://\" + urlObj.host;\n      }\n    } else {\n      input = urlObj.protocol + \"//\" + urlObj.host;\n    }\n    return input;\n    // eslint-disable-next-line no-empty\n  } catch (err) {}\n  if (input.startsWith(\"/\")) {\n    throw new Error(\"Please provide a valid domain name\");\n  }\n  // not a valid URL\n  if (input.indexOf(\".\") === 0) {\n    input = input.substr(1);\n  }\n  // If the input contains a . it means they have given a domain name.\n  // So we try assuming that they have given a domain name\n  if ((input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) && !input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n    input = \"https://\" + input;\n    // at this point, it should be a valid URL. So we test that before doing a recursive call\n    try {\n      new URL(input);\n      return normaliseURLDomainOrThrowError(input, true);\n      // eslint-disable-next-line no-empty\n    } catch (err) {}\n  }\n  throw new Error(\"Please provide a valid domain name\");\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","isAnIpAddress","ipaddress","test","NormalisedURLDomain","url","_this","getAsStringDangerous","normaliseURLDomainOrThrowError","default","input","ignoreProtocol","trim","startsWith","Error","urlObj","URL","hostname","host","protocol","err","indexOf","substr"],"sources":["C:/Users/jsierra/puntodelaguaapp/frontend/node_modules/supertokens-website/lib/build/normalisedURLDomain.js"],"sourcesContent":["\"use strict\";\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAnIpAddress = void 0;\nfunction isAnIpAddress(ipaddress) {\n    return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n        ipaddress\n    );\n}\nexports.isAnIpAddress = isAnIpAddress;\nvar NormalisedURLDomain = /** @class */ (function() {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function() {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,KAAK,CAAC;AAC9B,SAASA,aAAa,CAACC,SAAS,EAAE;EAC9B,OAAO,kKAAkK,CAACC,IAAI,CAC1KD,SAAS,CACZ;AACL;AACAH,OAAO,CAACE,aAAa,GAAGA,aAAa;AACrC,IAAIG,mBAAmB,GAAG,aAAe,YAAW;EAChD,SAASA,mBAAmB,CAACC,GAAG,EAAE;IAC9B,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACC,oBAAoB,GAAG,YAAW;MACnC,OAAOD,KAAK,CAACN,KAAK;IACtB,CAAC;IACD,IAAI,CAACA,KAAK,GAAGQ,8BAA8B,CAACH,GAAG,CAAC;EACpD;EACA,OAAOD,mBAAmB;AAC9B,CAAC,EAAG;AACJL,OAAO,CAACU,OAAO,GAAGL,mBAAmB;AACrC,SAASI,8BAA8B,CAACE,KAAK,EAAEC,cAAc,EAAE;EAC3D,IAAIA,cAAc,KAAK,KAAK,CAAC,EAAE;IAC3BA,cAAc,GAAG,KAAK;EAC1B;EACAD,KAAK,GAAGA,KAAK,CAACE,IAAI,EAAE;EACpB,IAAI;IACA,IAAI,CAACF,KAAK,CAACG,UAAU,CAAC,SAAS,CAAC,IAAI,CAACH,KAAK,CAACG,UAAU,CAAC,UAAU,CAAC,EAAE;MAC/D,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IACA,IAAIC,MAAM,GAAG,IAAIC,GAAG,CAACN,KAAK,CAAC;IAC3B,IAAIC,cAAc,EAAE;MAChB,IAAII,MAAM,CAACE,QAAQ,CAACJ,UAAU,CAAC,WAAW,CAAC,IAAIZ,aAAa,CAACc,MAAM,CAACE,QAAQ,CAAC,EAAE;QAC3EP,KAAK,GAAG,SAAS,GAAGK,MAAM,CAACG,IAAI;MACnC,CAAC,MAAM;QACHR,KAAK,GAAG,UAAU,GAAGK,MAAM,CAACG,IAAI;MACpC;IACJ,CAAC,MAAM;MACHR,KAAK,GAAGK,MAAM,CAACI,QAAQ,GAAG,IAAI,GAAGJ,MAAM,CAACG,IAAI;IAChD;IACA,OAAOR,KAAK;IACZ;EACJ,CAAC,CAAC,OAAOU,GAAG,EAAE,CAAC;EACf,IAAIV,KAAK,CAACG,UAAU,CAAC,GAAG,CAAC,EAAE;IACvB,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;EACzD;EACA;EACA,IAAIJ,KAAK,CAACW,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC1BX,KAAK,GAAGA,KAAK,CAACY,MAAM,CAAC,CAAC,CAAC;EAC3B;EACA;EACA;EACA,IACI,CAACZ,KAAK,CAACW,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAIX,KAAK,CAACG,UAAU,CAAC,WAAW,CAAC,KAC3D,CAACH,KAAK,CAACG,UAAU,CAAC,SAAS,CAAC,IAC5B,CAACH,KAAK,CAACG,UAAU,CAAC,UAAU,CAAC,EAC/B;IACEH,KAAK,GAAG,UAAU,GAAGA,KAAK;IAC1B;IACA,IAAI;MACA,IAAIM,GAAG,CAACN,KAAK,CAAC;MACd,OAAOF,8BAA8B,CAACE,KAAK,EAAE,IAAI,CAAC;MAClD;IACJ,CAAC,CAAC,OAAOU,GAAG,EAAE,CAAC;EACnB;EACA,MAAM,IAAIN,KAAK,CAAC,oCAAoC,CAAC;AACzD"},"metadata":{},"sourceType":"script","externalDependencies":[]}