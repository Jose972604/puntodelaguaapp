{"ast":null,"code":"\"use strict\";\n\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar NormalisedURLDomain = /** @class */function () {\n  function NormalisedURLDomain(url) {\n    var _this = this;\n    this.getAsStringDangerous = function () {\n      return _this.value;\n    };\n    this.value = normaliseURLDomainOrThrowError(url);\n  }\n  return NormalisedURLDomain;\n}();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n  if (ignoreProtocol === void 0) {\n    ignoreProtocol = false;\n  }\n  function isAnIpAddress(ipaddress) {\n    return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress);\n  }\n  input = input.trim();\n  try {\n    if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n      throw new Error(\"Error converting to proper URL\");\n    }\n    var urlObj = new URL(input);\n    if (ignoreProtocol) {\n      if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n        input = \"http://\" + urlObj.host;\n      } else {\n        input = \"https://\" + urlObj.host;\n      }\n    } else {\n      input = urlObj.protocol + \"//\" + urlObj.host;\n    }\n    return input;\n    // eslint-disable-next-line no-empty\n  } catch (err) {}\n  if (input.startsWith(\"/\")) {\n    throw new Error(\"Please provide a valid domain name\");\n  }\n  // not a valid URL\n  if (input.indexOf(\".\") === 0) {\n    input = input.substr(1);\n  }\n  // If the input contains a . it means they have given a domain name.\n  // So we try assuming that they have given a domain name\n  if ((input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) && !input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n    input = \"https://\" + input;\n    // at this point, it should be a valid URL. So we test that before doing a recursive call\n    try {\n      new URL(input);\n      return normaliseURLDomainOrThrowError(input, true);\n      // eslint-disable-next-line no-empty\n    } catch (err) {}\n  }\n  throw new Error(\"Please provide a valid domain name\");\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","NormalisedURLDomain","url","_this","getAsStringDangerous","normaliseURLDomainOrThrowError","default","input","ignoreProtocol","isAnIpAddress","ipaddress","test","trim","startsWith","Error","urlObj","URL","hostname","host","protocol","err","indexOf","substr"],"sources":["C:/Users/jsierra/puntodelaguaapp/frontend/node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js"],"sourcesContent":["\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports.default = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,mBAAmB,GAAG,aAAe,YAAY;EACjD,SAASA,mBAAmB,CAACC,GAAG,EAAE;IAC9B,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACC,oBAAoB,GAAG,YAAY;MACpC,OAAOD,KAAK,CAACH,KAAK;IACtB,CAAC;IACD,IAAI,CAACA,KAAK,GAAGK,8BAA8B,CAACH,GAAG,CAAC;EACpD;EACA,OAAOD,mBAAmB;AAC9B,CAAC,EAAG;AACJF,OAAO,CAACO,OAAO,GAAGL,mBAAmB;AACrC,SAASI,8BAA8B,CAACE,KAAK,EAAEC,cAAc,EAAE;EAC3D,IAAIA,cAAc,KAAK,KAAK,CAAC,EAAE;IAC3BA,cAAc,GAAG,KAAK;EAC1B;EACA,SAASC,aAAa,CAACC,SAAS,EAAE;IAC9B,OAAO,kKAAkK,CAACC,IAAI,CAC1KD,SAAS,CACZ;EACL;EACAH,KAAK,GAAGA,KAAK,CAACK,IAAI,EAAE;EACpB,IAAI;IACA,IAAI,CAACL,KAAK,CAACM,UAAU,CAAC,SAAS,CAAC,IAAI,CAACN,KAAK,CAACM,UAAU,CAAC,UAAU,CAAC,EAAE;MAC/D,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;IACrD;IACA,IAAIC,MAAM,GAAG,IAAIC,GAAG,CAACT,KAAK,CAAC;IAC3B,IAAIC,cAAc,EAAE;MAChB,IAAIO,MAAM,CAACE,QAAQ,CAACJ,UAAU,CAAC,WAAW,CAAC,IAAIJ,aAAa,CAACM,MAAM,CAACE,QAAQ,CAAC,EAAE;QAC3EV,KAAK,GAAG,SAAS,GAAGQ,MAAM,CAACG,IAAI;MACnC,CAAC,MAAM;QACHX,KAAK,GAAG,UAAU,GAAGQ,MAAM,CAACG,IAAI;MACpC;IACJ,CAAC,MAAM;MACHX,KAAK,GAAGQ,MAAM,CAACI,QAAQ,GAAG,IAAI,GAAGJ,MAAM,CAACG,IAAI;IAChD;IACA,OAAOX,KAAK;IACZ;EACJ,CAAC,CAAC,OAAOa,GAAG,EAAE,CAAC;EACf,IAAIb,KAAK,CAACM,UAAU,CAAC,GAAG,CAAC,EAAE;IACvB,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;EACzD;EACA;EACA,IAAIP,KAAK,CAACc,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC1Bd,KAAK,GAAGA,KAAK,CAACe,MAAM,CAAC,CAAC,CAAC;EAC3B;EACA;EACA;EACA,IACI,CAACf,KAAK,CAACc,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAId,KAAK,CAACM,UAAU,CAAC,WAAW,CAAC,KAC3D,CAACN,KAAK,CAACM,UAAU,CAAC,SAAS,CAAC,IAC5B,CAACN,KAAK,CAACM,UAAU,CAAC,UAAU,CAAC,EAC/B;IACEN,KAAK,GAAG,UAAU,GAAGA,KAAK;IAC1B;IACA,IAAI;MACA,IAAIS,GAAG,CAACT,KAAK,CAAC;MACd,OAAOF,8BAA8B,CAACE,KAAK,EAAE,IAAI,CAAC;MAClD;IACJ,CAAC,CAAC,OAAOa,GAAG,EAAE,CAAC;EACnB;EACA,MAAM,IAAIN,KAAK,CAAC,oCAAoC,CAAC;AACzD"},"metadata":{},"sourceType":"script","externalDependencies":[]}